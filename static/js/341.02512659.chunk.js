"use strict";(self.webpackChunkwatertracker=self.webpackChunkwatertracker||[]).push([[341],{2341:function(e,s,r){r.r(s),r.d(s,{default:function(){return k}});var a=r(2791),n=r(3855),i=r(3076),o=r(5861),t=r(9439),d=r(4687),c=r.n(d),l=r(1365),u=r(7689),p=r(5705),h=r(3101),m=r(7287),w=r(6036),x=r(5757),j=r(6727),f=j.Ry().shape({email:j.Z_().matches(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,"Invalid email").required("Email is required"),password:j.Z_().matches(/^(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,64}$/,"Password should have letters, numbers, special characters").min(8,"Too short password").max(64,"Too long password").required("Password is required"),repeatPassword:j.Z_().oneOf([j.iH("password"),null],"Passwords must match").min(8,"Too short password").max(64,"Too long password").required("Repeat password is required")}),v=r(9085),g=(r(5462),r(9488)),y=r(184),P={email:"",password:"",repeatPassword:""},Z=function(e){var s=e.signup,r=(0,a.useState)(!1),i=(0,t.Z)(r,2),d=i[0],j=i[1],Z=(0,a.useState)(!1),k=(0,t.Z)(Z,2),q=k[0],S=k[1],_=(0,n.v9)(h._J),b=(0,u.s0)(),F=(0,n.v9)(h.eH),E=(0,n.I0)(),N=(0,a.useCallback)((function(){v.Am.info("Success! Please, check your mail for confirmation."),setTimeout((function(){b("/signin")}),6e3),E((0,g.HA)())}),[E,b]);(0,a.useEffect)((function(){console.log(_),_&&!F&&N(),F&&(v.Am.error(F),E((0,g.q$)()))}),[E,_,F,N]);var $=function(){var e=(0,o.Z)(c().mark((function e(r,a){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,e.next=3,s({email:r.email,password:r.password});case 3:n(!1);case 4:case"end":return e.stop()}}),e)})));return function(s,r){return e.apply(this,arguments)}}(),A=function(e){"password"===e?j(!d):"repeatPassword"===e&&S(!q)};return(0,y.jsx)(x.im,{children:(0,y.jsx)(l.Z,{children:(0,y.jsx)(w.xu,{children:(0,y.jsxs)("div",{children:[(0,y.jsx)(p.J9,{initialValues:P,validationSchema:f,onSubmit:$,children:function(e){var s=e.isSubmitting,r=e.errors,a=e.touched;return(0,y.jsxs)(w.Gq,{children:[(0,y.jsx)(w.Dx,{children:"Sign Up"}),(0,y.jsxs)("div",{children:[(0,y.jsx)(w.__,{children:"Enter your email"}),(0,y.jsx)(p.gN,{as:w.Fy,type:"email",name:"email",placeholder:"Email",hasError:a.email&&r.email,required:!0}),(0,y.jsx)(p.Bc,{name:"email",component:w.mF})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(w.__,{children:"Enter your password"}),(0,y.jsxs)(w.FU,{children:[(0,y.jsx)(p.gN,{as:w.Fy,type:d?"text":"password",name:"password",placeholder:"Password",hasError:a.password&&r.password,required:!0}),(0,y.jsx)("span",{onClick:function(){return A("password")},children:d?(0,y.jsx)("svg",{className:"eye",children:(0,y.jsx)("use",{href:m.Z+"#eye"})}):(0,y.jsx)("svg",{className:"eye",children:(0,y.jsx)("use",{href:m.Z+"#hidden"})})})]}),(0,y.jsx)(p.Bc,{name:"password",component:w.mF})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(w.__,{children:"Repeat password"}),(0,y.jsxs)(w.FU,{children:[(0,y.jsx)(p.gN,{as:w.Fy,type:q?"text":"password",name:"repeatPassword",placeholder:"Repeat password",required:!0,hasError:a.repeatPassword&&r.repeatPassword}),(0,y.jsx)("span",{onClick:function(){return A("repeatPassword")},children:q?(0,y.jsx)("svg",{className:"eye",children:(0,y.jsx)("use",{href:m.Z+"#eye"})}):(0,y.jsx)("svg",{className:"eye",children:(0,y.jsx)("use",{href:m.Z+"#hidden"})})})]}),(0,y.jsx)(p.Bc,{name:"repeatPassword",component:w.mF})]}),(0,y.jsx)(w.$2,{type:"submit",width:336,disabled:s,children:"Sign Up"})]})}}),(0,y.jsx)(w.Zi,{to:"/signin",children:"Sign in"}),(0,y.jsx)(v.Ix,{})]})})})})},k=function(){var e=(0,n.I0)();return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(Z,{signup:function(s){e((0,i.SA)(s))}})})}}}]);
//# sourceMappingURL=341.02512659.chunk.js.map